# Migration `20201220131750-20201220_update_post`

This migration has been generated by jiko21 at 12/20/2020, 10:17:50 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;
CREATE TABLE "new_Post" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "title" TEXT NOT NULL,
    "content" TEXT NOT NULL,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "isDelete" BOOLEAN NOT NULL DEFAULT false,
    "status" TEXT NOT NULL DEFAULT 'UNPUBLISHED',
    "authorId" TEXT NOT NULL,

    FOREIGN KEY ("authorId") REFERENCES "User"("uid") ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO "new_Post" ("id", "title", "content", "createdAt", "updatedAt", "isDelete", "status", "authorId") SELECT "id", "title", "content", "createdAt", "updatedAt", "isDelete", "status", "authorId" FROM "Post";
DROP TABLE "Post";
ALTER TABLE "new_Post" RENAME TO "Post";
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201210152338-20201211_add_post..20201220131750-20201220_update_post
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -17,14 +17,14 @@
   posts Post[]
 }
 model Post {
-  id Int @id
+  id Int @id @default(autoincrement())
   title String
   content String
-  createdAt DateTime
-  updatedAt DateTime
-  isDelete Boolean
-  status String
+  createdAt DateTime @default(now())
+  updatedAt DateTime @default(now())
+  isDelete Boolean @default(false)
+  status String @default("UNPUBLISHED")
   author User @relation(fields: [authorId], references: [uid])
   authorId String
 }
```


